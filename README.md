# ðŸ§  BroLang Compiler + RohitVM + 16-bit Virtual CPU ðŸš€ 7.9

## ðŸ”§ Built From Scratch by Rohit Yadav
> ðŸŽ“ NIT Jalandhar | 3rd Year  
> ðŸ’» Leetcode Knight | Codeforces Specialist | CodeChef 4â˜…  

---

## ðŸ“Œ Project Overview

This project brings together:

**SHORT SUMMARY: I built my own compiler, that compiles programs written in my own language (BroLang), into bytecode that runs on my own virtual CPU, which executes using my own virtual machine â€” all from scratch in C++.**

No libraries. No frameworks. Just raw logic, control, and architecture.

- ðŸ§¾ A **full compiler** for a custom toy language: **BroLang**
- ðŸ§  A **custom virtual machine** (RohitVM) to execute compiled code
- âš™ï¸ A **16-bit Virtual CPU** with registers, RAM, and an instruction set

 Everything â€” from the lexer to the VM â€” is handcrafted in **modern C++**, with no compiler frameworks or dependencies.

---

## ðŸ’¡ Language: BroLang

A beginner-friendly language with C-like vibes and meme syntax:

```bro
letbro a = 10;
letbro b = 3;
printbro(a + b);

letbro a = 10;
letbro b = 3;
printbro(a / b);   

letbro a = 10;
letbro b = 3;
printbro(a - b);

letbro a = 10;
letbro b = 3;
printbro(a * b);

ifbro (a > b) {
    printbro(999);
} elsebro {
    printbro(111);
}

ifbro (a < b) {
    printbro(222);
} elsebro {
    printbro(888); 
}

ifbro (a == b) {
    printbro(333);
} elsebro {
    printbro(777);  
}

letbro counter = 0;
whilebro (counter < 3) {
    printbro(counter);   
    letbro counter = counter + 1;
}

```
---

# Paste this to run the code
```
g++ broc.cpp lexer.cpp parser.cpp codegen.cpp emitter.cpp -o broc
./broc test.bro -o prog.cpp
g++ compiler_test.cpp RohitVM.cpp RohitUtils.cpp -o run_bro
./run_bro
```

# OUTPUT
![image](https://github.com/user-attachments/assets/09e26a78-b4ab-4746-b377-1ea6602ac44c)

---

# âœ… Language Features

-Variable declarations with letbro
-Arithmetic operations: +, -, *, /
-Control flow: ifbro, elsebro, whilebro
-Output with printbro(expr);

---

# ðŸ§± Compiler Architecture
The BroLang Compiler is a multi-phase pipeline:
| Phase        | Description                          |
| ------------ | ------------------------------------ |
| **Lexer**    | Converts source into tokens          |
| **Parser**   | Builds AST (Abstract Syntax Tree)    |
| **Codegen**  | Converts AST to VM instructions      |
| **Emitter**  | Writes instructions to a `.cpp` file |
| **Executor** | Runs code on the custom VM           |

# Output:
The compiler outputs C++ bytecode instructions that run on RohitVM.

---

# ðŸ§  RohitVM â€“ Virtual Machine
  A stack-based virtual machine that executes bytecode generated by the compiler.

# ðŸ§© VM Highlights
-Executes compiled programs from BroLang
-Stack-based architecture (PUSH/POP logic)
-Built-in print, memory access, halt, arithmetic
-No use of system VM libraries â€” 100% custom

# ðŸ—‚ï¸ Registers
AX, BX, CX, DX â€” General purpose
SP â€” Stack Pointer
PC â€” Program Counter (internally tracked)

# âš™ï¸ 16-bit Virtual CPU
The virtual CPU that powers RohitVM.

**Specs:**
RAM: 65 KB

Instruction Set: Over 30+ instructions
MOV, PUSH, POP, ADD, SUB, MUL, DIV, PRN, HLT, STL, STG, etc.

Stack Operations supported
Custom memory operations (zeroing, copying, hex dump)


---
# ðŸ“ˆ What You Learn
âœ… Compiler design (lexer â†’ parser â†’ AST â†’ bytecode)

âœ… Instruction set architecture & stack machines

âœ… Memory layout, stack handling, and execution flow

âœ… Writing interpreters & VMs from scratch

# ðŸ’¬ Future Improvements
 Support for forbro loops

 Function calls with local stack frames

 String literals & input

 Optimized IR (intermediate representation)

 Add .brobin binary format

# ðŸ™Œ About the Author
I'm Rohit Yadav, an undergrad at NIT Jalandhar, passionate about:

ðŸ§  Compiler and VM internals

ðŸ”¥ Building OS & low-level system tools

ðŸ Creating everything from the ground up

